{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst items = localStorage.getItem(\"wishlistItems\") !== null ? JSON.parse(localStorage.getItem(\"wishlistItems\")) : [];\n\n// const totalAmount =\n//   localStorage.getItem(\"totalAmount\") !== null\n//     ? JSON.parse(localStorage.getItem(\"totalAmount\"))\n//     : 0;\n\n// const totalQuantity =\n//   localStorage.getItem(\"totalQuantity\") !== null\n//     ? JSON.parse(localStorage.getItem(\"totalQuantity\"))\n//     : 0;\n\nconst setItemFunc = (item, totalAmount, totalQuantity) => {\n  localStorage.setItem(\"wishlistItems\", JSON.stringify(item));\n  //   localStorage.setItem(\"totalAmount\", JSON.stringify(totalAmount));\n  //   localStorage.setItem(\"totalQuantity\", JSON.stringify(totalQuantity));\n};\n\nconst initialState = {\n  wishlistItems: items\n  //   totalQuantity: totalQuantity,\n  //   totalAmount: totalAmount,\n};\n\nconst wishlistSlice = createSlice({\n  name: \"wishlist\",\n  initialState,\n  reducers: {\n    // =========== add item ============\n    addItem(state, action) {\n      const newItem = action.payload;\n      const existingItem = state.wishlistItems.find(item => item.id === newItem.id);\n      //state.totalQuantity++;\n\n      if (!existingItem) {\n        var _newItem$color;\n        // ===== note: if you use just redux you should not mute state array instead of clone the state array, but if you use redux toolkit that will not a problem because redux toolkit clone the array behind the scene\n\n        state.wishlistItems.push({\n          id: newItem.id,\n          name: newItem.name,\n          image: newItem.image,\n          price: newItem.price,\n          reference: newItem.reference,\n          color: (_newItem$color = newItem.color) === null || _newItem$color === void 0 ? void 0 : _newItem$color.name\n\n          //   quantity: 1,\n          //   totalPrice: newItem.price,\n        });\n      }\n      //    else {\n      //     existingItem.quantity++;\n      //     existingItem.totalPrice =\n      //       Number(existingItem.totalPrice) + Number(newItem.price);\n      //   }\n\n      //   state.totalAmount = state.cartItems.reduce(\n      //     (total, item) => total + Number(item.price) * Number(item.quantity),\n\n      //     0\n      //   );\n\n      setItemFunc(state.wishlistItems.map(item => item)\n      // state.totalAmount,\n      // state.totalQuantity\n      );\n    },\n\n    // ========= remove item ========\n\n    removeItem(state, action) {\n      // console.log(action)\n      //const id = action.payload;\n      // const existingItem = state.wishlistItems.find((item) => item.id === id);\n      //   state.totalQuantity--;\n\n      //   if (existingItem.quantity === 1) {\n      //     state.cartItems = state.cartItems.filter((item) => item.id !== id);\n      //   } else {\n      //     existingItem.quantity--;\n      //     existingItem.totalPrice =\n      //       Number(existingItem.totalPrice) - Number(existingItem.price);\n      //   }\n\n      //   state.totalAmount = state.cartItems.reduce(\n      //     (total, item) => total + Number(item.price) * Number(item.quantity),\n      //     0\n      //   );\n\n      setItemFunc(state.wishlistItems.map(item => item)\n      // state.totalAmount,\n      // state.totalQuantity\n      );\n    },\n\n    //============ delete item ===========\n\n    deleteItem(state, action) {\n      const id = action.payload;\n      const existingItem = state.wishlistItems.find(item => item.id === id);\n      if (existingItem) {\n        state.wishlistItems = state.wishlistItems.filter(item => item.id !== id);\n        //state.totalQuantity = state.totalQuantity - existingItem.quantity;\n      }\n\n      //   state.totalAmount = state.cartItems.reduce(\n      //     (total, item) => total + Number(item.price) * Number(item.quantity),\n      //     0\n      //   );\n      setItemFunc(state.wishlistItems.map(item => item)\n      // state.totalAmount,\n      // state.totalQuantity\n      );\n    }\n  }\n});\n\nexport const wishlistActions = wishlistSlice.actions;\nexport default wishlistSlice;","map":{"version":3,"names":["createSlice","items","localStorage","getItem","JSON","parse","setItemFunc","item","totalAmount","totalQuantity","setItem","stringify","initialState","wishlistItems","wishlistSlice","name","reducers","addItem","state","action","newItem","payload","existingItem","find","id","_newItem$color","push","image","price","reference","color","map","removeItem","deleteItem","filter","wishlistActions","actions"],"sources":["/home/soumayaites/Desktop/testecommerce/src/store/wislist/wishlistSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst items =\r\n  localStorage.getItem(\"wishlistItems\") !== null\r\n    ? JSON.parse(localStorage.getItem(\"wishlistItems\"))\r\n    : [];\r\n\r\n// const totalAmount =\r\n//   localStorage.getItem(\"totalAmount\") !== null\r\n//     ? JSON.parse(localStorage.getItem(\"totalAmount\"))\r\n//     : 0;\r\n\r\n// const totalQuantity =\r\n//   localStorage.getItem(\"totalQuantity\") !== null\r\n//     ? JSON.parse(localStorage.getItem(\"totalQuantity\"))\r\n//     : 0;\r\n\r\nconst setItemFunc = (item, totalAmount, totalQuantity) => {\r\n  localStorage.setItem(\"wishlistItems\", JSON.stringify(item));\r\n//   localStorage.setItem(\"totalAmount\", JSON.stringify(totalAmount));\r\n//   localStorage.setItem(\"totalQuantity\", JSON.stringify(totalQuantity));\r\n};\r\n\r\nconst initialState = {\r\n    wishlistItems: items,\r\n//   totalQuantity: totalQuantity,\r\n//   totalAmount: totalAmount,\r\n};\r\n\r\nconst wishlistSlice = createSlice({\r\n  name: \"wishlist\",\r\n  initialState,\r\n\r\n  reducers: {\r\n    // =========== add item ============\r\n    addItem(state, action) {\r\n      const newItem = action.payload;\r\n      const existingItem = state.wishlistItems.find(\r\n        (item) => item.id === newItem.id\r\n      );\r\n      //state.totalQuantity++;\r\n\r\n      if (!existingItem) {\r\n        // ===== note: if you use just redux you should not mute state array instead of clone the state array, but if you use redux toolkit that will not a problem because redux toolkit clone the array behind the scene\r\n\r\n        state.wishlistItems.push({\r\n          id: newItem.id,\r\n          name: newItem.name,\r\n          image: newItem.image,\r\n          price: newItem.price,\r\n          reference: newItem.reference,\r\n          color: newItem.color?.name,\r\n\r\n        //   quantity: 1,\r\n        //   totalPrice: newItem.price,\r\n        });\r\n      }\r\n    //    else {\r\n    //     existingItem.quantity++;\r\n    //     existingItem.totalPrice =\r\n    //       Number(existingItem.totalPrice) + Number(newItem.price);\r\n    //   }\r\n\r\n    //   state.totalAmount = state.cartItems.reduce(\r\n    //     (total, item) => total + Number(item.price) * Number(item.quantity),\r\n\r\n    //     0\r\n    //   );\r\n\r\n      setItemFunc(\r\n        state.wishlistItems.map((item) => item),\r\n        // state.totalAmount,\r\n        // state.totalQuantity\r\n      );\r\n    },\r\n\r\n    // ========= remove item ========\r\n\r\n    removeItem(state, action) {\r\n     // console.log(action)\r\n      //const id = action.payload;\r\n      // const existingItem = state.wishlistItems.find((item) => item.id === id);\r\n    //   state.totalQuantity--;\r\n\r\n    //   if (existingItem.quantity === 1) {\r\n    //     state.cartItems = state.cartItems.filter((item) => item.id !== id);\r\n    //   } else {\r\n    //     existingItem.quantity--;\r\n    //     existingItem.totalPrice =\r\n    //       Number(existingItem.totalPrice) - Number(existingItem.price);\r\n    //   }\r\n\r\n    //   state.totalAmount = state.cartItems.reduce(\r\n    //     (total, item) => total + Number(item.price) * Number(item.quantity),\r\n    //     0\r\n    //   );\r\n\r\n      setItemFunc(\r\n        state.wishlistItems.map((item) => item),\r\n        // state.totalAmount,\r\n        // state.totalQuantity\r\n      );\r\n    },\r\n\r\n    //============ delete item ===========\r\n\r\n    deleteItem(state, action) {\r\n      const id = action.payload;\r\n      const existingItem = state.wishlistItems.find((item) => item.id === id);\r\n\r\n      if (existingItem) {\r\n        state.wishlistItems = state.wishlistItems.filter((item) => item.id !== id);\r\n        //state.totalQuantity = state.totalQuantity - existingItem.quantity;\r\n      }\r\n\r\n    //   state.totalAmount = state.cartItems.reduce(\r\n    //     (total, item) => total + Number(item.price) * Number(item.quantity),\r\n    //     0\r\n    //   );\r\n      setItemFunc(\r\n        state.wishlistItems.map((item) => item),\r\n        // state.totalAmount,\r\n        // state.totalQuantity\r\n      );\r\n    },\r\n  },\r\n});\r\n\r\nexport const wishlistActions = wishlistSlice.actions;\r\nexport default wishlistSlice;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,KAAK,GACTC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,KAAK,IAAI,GAC1CC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,GACjD,EAAE;;AAER;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAMG,WAAW,GAAGA,CAACC,IAAI,EAAEC,WAAW,EAAEC,aAAa,KAAK;EACxDP,YAAY,CAACQ,OAAO,CAAC,eAAe,EAAEN,IAAI,CAACO,SAAS,CAACJ,IAAI,CAAC,CAAC;EAC7D;EACA;AACA,CAAC;;AAED,MAAMK,YAAY,GAAG;EACjBC,aAAa,EAAEZ;EACnB;EACA;AACA,CAAC;;AAED,MAAMa,aAAa,GAAGd,WAAW,CAAC;EAChCe,IAAI,EAAE,UAAU;EAChBH,YAAY;EAEZI,QAAQ,EAAE;IACR;IACAC,OAAOA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACrB,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO;MAC9B,MAAMC,YAAY,GAAGJ,KAAK,CAACL,aAAa,CAACU,IAAI,CAC1ChB,IAAI,IAAKA,IAAI,CAACiB,EAAE,KAAKJ,OAAO,CAACI,EAAE,CACjC;MACD;;MAEA,IAAI,CAACF,YAAY,EAAE;QAAA,IAAAG,cAAA;QACjB;;QAEAP,KAAK,CAACL,aAAa,CAACa,IAAI,CAAC;UACvBF,EAAE,EAAEJ,OAAO,CAACI,EAAE;UACdT,IAAI,EAAEK,OAAO,CAACL,IAAI;UAClBY,KAAK,EAAEP,OAAO,CAACO,KAAK;UACpBC,KAAK,EAAER,OAAO,CAACQ,KAAK;UACpBC,SAAS,EAAET,OAAO,CAACS,SAAS;UAC5BC,KAAK,GAAAL,cAAA,GAAEL,OAAO,CAACU,KAAK,cAAAL,cAAA,uBAAbA,cAAA,CAAeV;;UAExB;UACA;QACA,CAAC,CAAC;MACJ;MACF;MACA;MACA;MACA;MACA;;MAEA;MACA;;MAEA;MACA;;MAEET,WAAW,CACTY,KAAK,CAACL,aAAa,CAACkB,GAAG,CAAExB,IAAI,IAAKA,IAAI;MACtC;MACA;MAAA,CACD;IACH,CAAC;;IAED;;IAEAyB,UAAUA,CAACd,KAAK,EAAEC,MAAM,EAAE;MACzB;MACC;MACA;MACF;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;;MAEEb,WAAW,CACTY,KAAK,CAACL,aAAa,CAACkB,GAAG,CAAExB,IAAI,IAAKA,IAAI;MACtC;MACA;MAAA,CACD;IACH,CAAC;;IAED;;IAEA0B,UAAUA,CAACf,KAAK,EAAEC,MAAM,EAAE;MACxB,MAAMK,EAAE,GAAGL,MAAM,CAACE,OAAO;MACzB,MAAMC,YAAY,GAAGJ,KAAK,CAACL,aAAa,CAACU,IAAI,CAAEhB,IAAI,IAAKA,IAAI,CAACiB,EAAE,KAAKA,EAAE,CAAC;MAEvE,IAAIF,YAAY,EAAE;QAChBJ,KAAK,CAACL,aAAa,GAAGK,KAAK,CAACL,aAAa,CAACqB,MAAM,CAAE3B,IAAI,IAAKA,IAAI,CAACiB,EAAE,KAAKA,EAAE,CAAC;QAC1E;MACF;;MAEF;MACA;MACA;MACA;MACElB,WAAW,CACTY,KAAK,CAACL,aAAa,CAACkB,GAAG,CAAExB,IAAI,IAAKA,IAAI;MACtC;MACA;MAAA,CACD;IACH;EACF;AACF,CAAC,CAAC;;AAEF,OAAO,MAAM4B,eAAe,GAAGrB,aAAa,CAACsB,OAAO;AACpD,eAAetB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}