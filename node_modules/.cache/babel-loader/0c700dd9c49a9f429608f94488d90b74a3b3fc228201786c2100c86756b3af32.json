{"ast":null,"code":"import api from '../Api/api';\nimport { Apis } from '../Api/config';\nimport { setCookie } from \"../jwt/function\";\nimport jwt_decode from \"jwt-decode\";\nconst userRegister = async data => {\n  try {\n    let result = await api.post(Apis.UserRegsiter, data);\n    if (result.data.error) {\n      return null;\n    }\n    return result.data;\n  } catch (error) {\n    ;\n    return null;\n  }\n};\nconst forgotPassword = async data => {\n  try {\n    console.log(Apis.forgetPassword, data);\n    let result = await api.post(Apis.forgetPassword, data);\n    if (result.data.error) {\n      return null;\n    }\n    return result.data;\n  } catch (error) {\n    ;\n    return null;\n  }\n};\nconst UserLogin = async data => {\n  //console.log(\"data\", Apis.UserLogin)\n  try {\n    let result = await api.post(Apis.UserLogin, data, {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (result.data.error) {\n      // NotificationPop(\"error\", i18n.t(\"not success\"), \"check login\")\n      window.reload();\n      return null;\n    }\n    // NotificationPop(\"success\", i18n.t(\"success\"), \"\")\n    return result.data;\n  } catch (error) {\n    //NotificationPop(\"error\",i18n.t (\"not success\"), \"check login\")\n\n    return null;\n  }\n};\n_c = UserLogin;\nconst userByID = async id => {\n  try {\n    let result = await api.get(Apis.UserById + id);\n    if (result.data.error) {\n      return null;\n    }\n    return result.data;\n  } catch (error) {\n    ;\n    return null;\n  }\n};\nconst authenticate = (user, next) => {\n  //console.log(\"authenticate\", typeof window)\n  // console.log(\"authenticate\", user.token)\n  localStorage.setItem('@access_token', user.token);\n  localStorage.setItem('user', JSON.stringify(user === null || user === void 0 ? void 0 : user.user));\n  next();\n  if (typeof window !== \"undefined\") {\n    setCookie(\"@token_session\", user.token, 10);\n    next();\n  }\n};\nconst GET_Role = () => {\n  if (localStorage.getItem('@access_token')) {\n    var decodedHeader = jwt_decode(localStorage.getItem('@access_token'));\n    //console.log(\"decodedHeader\", decodedHeader);\n    return decodedHeader.roles;\n  } else {\n    return [];\n  }\n};\n_c2 = GET_Role;\nconst userUpdate = async (id, data) => {\n  try {\n    let result = await api.put(Apis.UserUpdate + id, data);\n    // console.log(Apis.UserUpdate+id)\n    if (result.data.error) {\n      return null;\n    }\n    return result.data;\n  } catch (error) {\n    ;\n    return null;\n  }\n};\nconst uploadFile = async (id, data) => {\n  try {\n    let result = await api.put(Apis.uploadFile + id, data);\n    // console.log(Apis.UserUpdate+id)\n    if (result.data.error) {\n      return null;\n    }\n    return result.data;\n  } catch (error) {\n    ;\n    return null;\n  }\n};\nconst logout = () => {\n  localStorage.removeItem('@access_token');\n  localStorage.removeItem('user');\n};\nconst isAuthenticate = () => {\n  if (typeof window == 'undefined') {\n    return false;\n  }\n  var user = {\n    token: localStorage.getItem('@access_token'),\n    user: JSON.parse(localStorage.getItem('user'))\n  };\n  return user;\n};\nexport default {\n  userRegister,\n  forgotPassword,\n  UserLogin,\n  authenticate,\n  GET_Role,\n  isAuthenticate,\n  logout,\n  userByID,\n  userUpdate,\n  uploadFile\n};\nvar _c, _c2;\n$RefreshReg$(_c, \"UserLogin\");\n$RefreshReg$(_c2, \"GET_Role\");","map":{"version":3,"names":["api","Apis","setCookie","jwt_decode","userRegister","data","result","post","UserRegsiter","error","forgotPassword","console","log","forgetPassword","UserLogin","headers","window","reload","_c","userByID","id","get","UserById","authenticate","user","next","localStorage","setItem","token","JSON","stringify","GET_Role","getItem","decodedHeader","roles","_c2","userUpdate","put","UserUpdate","uploadFile","logout","removeItem","isAuthenticate","parse","$RefreshReg$"],"sources":["/home/soumayaites/Desktop/testecommerce/src/services/Account/index.js"],"sourcesContent":["import api from '../Api/api';\nimport { Apis } from '../Api/config';\nimport { setCookie } from \"../jwt/function\";\nimport jwt_decode from \"jwt-decode\";\nconst userRegister = async (data) => {\n  try {\n      let result = await api.post(Apis.UserRegsiter, data);\n      if (result.data.error) {\n         \n          return null;\n      }\n      return result.data;\n  } catch (error) {\n      ;\n      return null;\n  }\n};\nconst forgotPassword = async (data) => {\n    try {\n        console.log(Apis.forgetPassword, data)\n        let result = await api.post(Apis.forgetPassword, data);\n        if (result.data.error) {\n           \n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        ;\n        return null;\n    }\n};\nconst UserLogin = async (data) => {\n     //console.log(\"data\", Apis.UserLogin)\n        try {\n            let result = await api.post(Apis.UserLogin, data, {\n                headers: {\n                    \"Access-Control-Allow-Origin\": \"*\",\n                    \"Content-Type\": \"application/json\",\n                \n                },\n            });\n            if (result.data.error) {\n            // NotificationPop(\"error\", i18n.t(\"not success\"), \"check login\")\n                window.reload()\n                return null;\n            }\n        // NotificationPop(\"success\", i18n.t(\"success\"), \"\")\n            return result.data;\n        } catch (error) {\n            //NotificationPop(\"error\",i18n.t (\"not success\"), \"check login\")\n\n            return null;\n        }\n    };\n    const userByID = async (id) => {\n        try {\n          \n    \n            let result = await api.get(Apis.UserById+id);\n            if (result.data.error) {\n                return null;\n            }\n            return result.data;\n        } catch (error) {\n            ;\n            return null;\n        }\n      };\n    const authenticate = (user, next) => {\n        //console.log(\"authenticate\", typeof window)\n       // console.log(\"authenticate\", user.token)\n        localStorage.setItem('@access_token', user.token)\n        localStorage.setItem('user', JSON.stringify(user?.user))\n        next();\n        if (typeof window !== \"undefined\") {\n            setCookie(\"@token_session\", user.token, 10);\n            next();\n        }\n    };\n    const GET_Role = () => {\n\n    if (localStorage.getItem('@access_token')) {\n        var decodedHeader = jwt_decode(localStorage.getItem('@access_token'));\n        //console.log(\"decodedHeader\", decodedHeader);\n        return decodedHeader.roles\n    } else { return [] }\n\n    }\n    const userUpdate = async (id,data) => {\n        try {\n            let result = await api.put(Apis.UserUpdate+id,data);\n           // console.log(Apis.UserUpdate+id)\n            if (result.data.error) {\n               \n                return null;\n            }\n            return result.data;\n        } catch (error) {\n            ;\n            return null;\n        }\n    };\n    const uploadFile = async (id,data) => {\n        try {\n            let result = await api.put(Apis.uploadFile+id,data);\n           // console.log(Apis.UserUpdate+id)\n            if (result.data.error) {\n               \n                return null;\n            }\n            return result.data;\n        } catch (error) {\n            ;\n            return null;\n        }\n    };\n    const logout = () => {\n        localStorage.removeItem('@access_token',)\n        localStorage.removeItem('user',)\n\n    };\n    const isAuthenticate = () => {\n        if (typeof window == 'undefined') {\n            return false;\n        }\n        var user= {token: localStorage.getItem('@access_token'), user: JSON.parse(localStorage.getItem('user'))}\n        return user\n    };\n\n  export default {\n    \n        userRegister,\n        forgotPassword,\n        UserLogin,\n        authenticate,\n        GET_Role,\n        isAuthenticate,\n        logout,\n        userByID,\n        userUpdate,\n        uploadFile,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}